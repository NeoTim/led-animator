<!doctype html>
<html class="no-js" lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<title>Swim - LED Animator</title>
	<meta name="description" content="">
	<link rel="icon" type="image/png" href="assets/favicon_x128.png">

	<!-- styles -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,500,600,700|Orbitron:400,500|Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href="assets/css/bootstrap.min.css" type="text/css">
	<link rel="stylesheet" href="assets/css/main.css" type="text/css">

	<!-- javascript -->
	<script src="assets/js/lib/swim-system.js"></script>
	<script src="assets/js/lib/default.js"></script>
	<script src="assets/js/index.js"></script>

	<script>
		window.page = null;

		function start() {
			window.page = new LedMatrixPage(`warp://${window.location.host}`);
			window.page.initialize();
		}
	</script>
</head>
<!-- body -->

<body class="page" onload="start()">
	<header class="statusHeader" id="mainHeader">
		<svg width="156px" height="68px" viewBox="0 0 156 68"><polygon fill="#008ac5" points="38.262415 60.577147 45.7497674 67.9446512 41.4336392 66.3395349"></polygon><polygon fill="#004868" points="30.6320304 56.7525259 35.7395349 55.9824716 41.4304178 66.3390957"></polygon><polygon fill="#1db0ef" points="45.8577521 43.5549215 35.7395349 55.9813953 30.895331 54.807418"></polygon><polygon fill="#008ac5" points="45.8604651 43.5549215 41.760398 48.5902277 50.5169298 42.7788873"></polygon><polygon fill="#008ac5" points="26.3271825 57.4036063 35.7395349 55.9813953 19.2251161 51.7639132"></polygon><polygon fill="#008ac5" points="21.8522892 56.6610604 26.3302326 57.4059108 24.8674419 60.4330233"></polygon><polygon fill="#46c7ff" points="25.8602519 50.1512126 21.9749543 52.4673682 26.296682 53.5765239"></polygon><polygon fill="#004868" points="8.22304588 54.4 26.3302326 57.4046512 10.7431892 45.0311035"></polygon><polygon fill="#008ac5" points="13.8293387 33.5634807 4.10372093 35.5972093 8.22325581 54.4"></polygon><polygon fill="#004868" points="8.22099482 54.4011969 0.0941817913 35.6005706 4.10375191 35.6005706"></polygon><polygon fill="#004a6a" points="29.0049687 26.1913296 29.4164365 29.8907151 13.8293023 33.5651163 4.10372093 35.5972093"></polygon><polygon fill="#46c7ff" points="29.0062121 26.1911555 4.10372093 35.5972093 18.5813833 12.4933152"></polygon><polygon fill="#008ac5" points="11.2792478 19.5948645 18.5832775 12.4930233 4.10372093 35.5972093"></polygon><polygon fill="#0076a9" points="0.0976972893 35.6005706 11.6715695 18.9158345 4.10403655 35.6005706"></polygon><polygon fill="#46c7ff" points="24.2487055 31.1058385 29.4139535 29.8876265 26.2195349 45.5916279"></polygon><polygon fill="#004868" points="34.5718675 26.2202296 36.2830885 37.7346648 31.9099624 28.1109897"></polygon><polygon fill="#00557a" points="29.0034364 26.1884581 42.3712871 20.6741037 29.4139535 29.8883721"></polygon><polygon fill="#008ac5" points="26.68 13.7746077 29.0062121 26.1911555 18.5813953 12.4930233"></polygon><polygon fill="#004868" points="11.6715695 2.42510699 18.5775948 12.4930233 11.083087 19.8858773"></polygon><polygon fill="#46c7ff" points="9.61188076 0 26.6831512 13.7746077 18.5788496 12.4908901"></polygon><path fill="#0076a9" d="M26.6778731,13.7746077 L38.8232486,18.8943879 L37.5870837,22.6477526 L29.0035088,26.187907 L26.6778731,13.7746077 Z M35.3244186,20.5976744 C35.7065226,20.5976744 36.0162791,20.2879179 36.0162791,19.905814 C36.0162791,19.52371 35.7065226,19.2139535 35.3244186,19.2139535 C34.9423146,19.2139535 34.6325581,19.52371 34.6325581,19.905814 C34.6325581,20.2879179 34.9423146,20.5976744 35.3244186,20.5976744 Z"></path><polygon fill="#46c7ff" points="38.8232558 18.9003694 64.0007929 11.9315264 37.5863839 22.647813"></polygon><text fill="#ffffff" style="font-family: Orbitron; font-size: 32px;"><tspan x="58" y="42">swim</tspan></text></svg>			
		LED Animator
	</header>
	<main class="main">
		<!-- main panel container -->
		<div class="gridPanel" id="layoutMain">
			<!-- left column -->
			<div class="gridCell">
				<!-- animation preview section -->
				<div class="cellPanel">
					<h3>Animation Preview</h3>

					<!-- animation tool buttons -->
					<div class="infoRow2">
						<input type="button" class="menuButton" value="New" onclick="page.newAnimation()">
						<input type="button" class="menuButton" value="Load" onclick="page.showDialog('loadFileDialog')">
						<input type="button" class="menuButton" value="Save" onclick="page.saveAnimation()">
						<input type="button" class="menuButton" value="Import" onclick="page.showDialog('importPiskel')">
	
					</div>				
	
					<!-- animation information row -->
					<div class="infoRow">
						<div>
							Name: <input type="text" id="animName" style="text-align: left;" onchange="page.updateName()">
						</div>
						<div style="text-align: right;">
							ID:<span id="nameIdValue"></span>
						</div>
					</div>

					<!-- animation canvas -->
					<div class="gridRow">
						<div class="brushTools" id="brushTools">
							<span class="material-icons on" id="brushButton" onclick="page.selectTool('brush')">edit</span>
							<span class="material-icons" id="eraserButton" onclick="page.selectTool('eraser')">remove_circle_outline</span>
							<span class="material-icons" id="dropperButton" onclick="page.selectTool('dropper')">colorize</span>
							<span class="material-icons" id="fillButton" onclick="page.selectTool('fill')">format_paint</span>
						</div>

						<div id="pixelGrid">
							<canvas id="pixelCanvas" width="32" height="32"></canvas>
						</div>
					</div>

					<!-- animation frames section -->
					<div class="animationControlLabels">
						<div>Frames</div>
					</div>
					<div class="infoRow">
						<div>FPS: <input type="text" id="animSpeed" onchange="page.updateSpeed()" maxlength="3" size="2"> </div>
						<div style="text-align: center;">X: <span id="cursorXPos"></span> Y: <span id="cursorYPos"></span></div>
						<div style="text-align: right;">rgb: <span id="rgbAtCursor"></span></div>
					</div>
					<div id="framesPanel">
						<div id="framesContainer">
						</div>
						<div class="framesControls">
						</div>		
					</div>
					<div class="animationControlLabels">
						<div>Animation Controls</div>
						&nbsp;
						<div>Frame Tools</div>
					</div>
					<div class="animationControls">
						<span class="material-icons" onclick="page.selectFrame(0)" title="First Frame">
							fast_rewind
						</span>
						<span class="material-icons" onclick="page.selectFrame(page.selectedFrame-1)" title="Previous Frame">
							skip_previous
						</span>
						<span class="material-icons" onclick="page.toggleAnimationPreview()" id="playButton" title="Play">
							play_arrow
						</span>
						<span class="material-icons" onclick="page.selectFrame(page.selectedFrame+1)" title="Next Frame">
							skip_next
						</span>
						<span class="material-icons" onclick="page.selectFrame(page.animationsList[page.selectedAnimation].frames.length-1)" title="Last Frame">
							fast_forward
						</span>
						&nbsp;
						<span class="material-icons" onclick="page.addFrame()" title="Add Frame">
							add
						</span>
						<span class="material-icons" onclick="page.deleteFrame()" title="Remove Frame">
							remove
						</span>
						<span class="material-icons" onclick="page.duplicateFrame()" title="Duplicate Frame">
							file_copy
						</span>

					</div>
					<h3 class="cellBottom">&nbsp;</h3>
				</div>
			</div>
			
			<!-- right column -->
			<div class="gridCell">
				<!-- Color Pallette section -->
				<div class="cellPanel">
					<h3>Color Pallette</h3>
					<div class="cellGrid6">
						<div class="pixelPanel">
							<!-- pallettes row -->
							<div class="palletteRow">
								<div id="colorPallette"></div>
								<div id="activePalletteContainer">
									<div id="activePallette"></div>
								</div>
							</div>

							<!-- rgb color picker row -->
							<div class="colorRow">
								<div class="activeColors" onclick="page.toggleFgColorActive()">
									<div id="backgroundColorChip"></div>
									<div id="foregroundColorChip"></div>
								</div>
								
								<div class="colorSelectors">
									R:<input type="number" maxlength="3" size="2" id="redInput" onchange="page.updateSelectedColor()" min="0" max="255">
										<input type="range" id="redInputRange" min="0" max="255" value="255" onchange="page.updateColorFromSlider()">
									G:<input type="number" maxlength="3" size="2" id="greenInput" onchange="page.updateSelectedColor()" min="0" max="255">
										<input type="range" id="greenInputRange" min="0" max="255" value="255" onchange="page.updateColorFromSlider()">
									B:<input type="number" maxlength="3" size="2" id="blueInput" onchange="page.updateSelectedColor()" min="0" max="255">
									<input type="range" id="blueInputRange" min="0" max="255" value="255" onchange="page.updateColorFromSlider()">

								</div>

							</div>

							<!-- tool buttons -->
							<h6>Clear frame to:</h6>
							<div class="palletteTools">
								<input type="button" value="All Black" onclick="page.clearLedPixels()">
								<input type="button" value="All White" onclick="page.clearLedPixels('255,255,255')">
								<input type="button" value="All Selected" onclick="page.clearLedPixels('selected')">
							</div>
	
						</div>
					</div>
				</div>

				<!-- Selected Panel State and panel list section -->
				<div class="cellPanel" style="margin-top: 10px;">
					<h3><span id="panelNameDiv">Selected Panel</span> State</h3>
					<div class="cellGrid4" style="height: 98px;">
						<div>
							<h6>Active Animation</h6>
							<div id="panelAnimName"></div>
						</div>
						<div>
							<h6>LED Command</h6>
							<div id="panelCommand"></div>
						</div>
						<div>
							<h6>Resolution</h6>
							<div id="panelSize">W:* H:*</div>
						</div>
						<div>
							<h6>Panel Controls</h6>
							<div class="panelControls">
								<span class="material-icons" id="syncButton" onclick="page.syncPanelToPreview()" title="Sync Panel with Preview">
									sync
								</span>
								<span class="material-icons" id="animPlayButton" onclick="page.togglePanelAnimationState()" title="Play Animation on Panel">
									play_arrow
								</span>
								<span class="material-icons" onclick="page.pushAnimationToPanel()" title="Upload Preview To Panel">
									input
								</span>
							</div>
						</div>
					</div>
					<h4>LED Panel Listing</h4>
					<div class="cellGrid8" id="mainPanelList">

					</div>
					<h3 class="cellBottom">&nbsp;</h3>
				</div>

			</div>

		</div>
		
		<!-- used for importing piskel files -->
		<div id="offscreenCanvas" style="display: none">

		</div>

		<!-- overlays section -->
		<div id="overlayBg">
			<div id="overlayFg">
				<!-- overlay title -->
				<h4 id="overlayTitle">title</h4>
				<div id="overlayContent">
					
					<!-- load file dialog -->
					<div id="loadFileDialog">
						<h5>Saved Animations:</h5>
						<select id="animationList"></select>
						<div class="dialogButtonRow">
							<input type="button" value="Cancel" class="cancelButton" onclick="page.closeDialog()">
							<input type="button" value="Load" class="okButton" onclick="page.loadAnimation()">
	
						</div>
					</div>

					<!-- import piskel dialog -->
					<div id="importPiskel">
						<h5>Import Piskel</h5>
						
							<input type="file" id="piskelImportButton">
						<div class="dialogButtonRow">
							
							<input type="button" value="Cancel" class="cancelButton" onclick="page.closeDialog()">
							<input type="button" value="Load" class="okButton" onclick="page.loadAnimation()">
	
						</div>
					</div>
					
				</div>
			</div>
	
		</div>

	</main>
	<!-- /main -->

</body>

</html>